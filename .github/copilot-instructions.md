# GitHub Copilot / Agent Hints for VeriTrace Chain

Short summary
- Frontend React + TypeScript single-page app (Vite) for tokenized invoice financing (MSME invoice NFTs, marketplace, funding, settlement).
- Key integrations: wagmi (wallet connectors), ethers/viem, smart-contract ABIs in `src/lib/contracts.ts` (addresses are placeholders), Tailwind + shadcn UI primitives in `src/components/ui`.

How to run
- Install: `bun install` (there's a `bun.lockb`) or `npm ci` / `npm install`.
- Dev server: `npm run dev` (Vite serves on port 8080, host `::`, so it's network-accessible).
- Build: `npm run build` (or `npm run build:dev` for development-mode build).
- Preview production build: `npm run preview`.
- Lint: `npm run lint` (ESLint config in `eslint.config.js`).

Primary files & conventions (be concrete)
- Entry & routing: `src/main.tsx`, `src/App.tsx` (React Router routes for `/msme`, `/marketplace`, `/investor`, `/login`, etc.).
- Blockchain config:
  - Wallets & providers: `src/lib/web3.ts` (wagmi `createConfig`). Replace `walletConnect({ projectId: 'your-project-id' })` with `import.meta.env.VITE_WALLETCONNECT_PROJECT_ID` in production.
  - Contracts & ABIs: `src/lib/contracts.ts` — addresses are placeholders (`0xYour...`); update per network.
- UI system: `src/components/ui/*` (shadcn-style primitives). Use `cn(...)` from `src/lib/utils.ts` to merge classes.
- Design tokens: `src/index.css` (CSS variables) and `tailwind.config.ts` — use these tokens/classes (`glass`, `glow-primary`, `text-gradient`) instead of ad-hoc colors.
- Animations & 3D: `src/components/3d/*` (react-three + `@react-three/fiber`), `gsap` and `framer-motion` used widely — expect WebGL/animation issues when testing headlessly.
- State & data fetching: `@tanstack/react-query` via `QueryClientProvider` in `App.tsx` + local component state for forms. Prefer `react-query` for async data caching.

Patterns & examples to mimic
- Minting flow: `src/components/InvoiceCreator.tsx` calculates a local risk score and calls `useWriteContract()` with `mint` (arg: buyer, tokenId as timestamp) — follow this simple pattern for contract writes.
- Risk scoring: small deterministic function in `InvoiceCreator` — copy the pattern for local mock scoring in tests or UI previews.
- Chatbot: `src/components/AIChatbot.tsx` contains helpful in-app answers and maps textual intents to routes/actions — useful for building guided UX or unit tests of flows.

Notable defaults & gotchas
- IP/keys: `web3.ts` has a placeholder WalletConnect project id; contracts have placeholder addresses — tests and E2E require real values or mocks.
- No test framework configured — add Jest/Playwright if you intend to add CI tests.
- Dev server runs on port 8080 (not the Vite default 5173) — CI or local port assumptions should use 8080.
- Uses TypeScript + `@vitejs/plugin-react-swc` (fast builds); check `tsconfig.*.json` for path and lib decisions.

Quick automation & PR checklist for agents
- Replace placeholder secrets/addresses with `import.meta.env.VITE_*` and document new env vars in README or `.env.example`.
- Run `npm run lint` and `npm run build` after changes (build validates imports/alias `@` resolution).
- Confirm wallet flows on Sepolia or mainnet using `wagmi` connectors and a valid WalletConnect project id.

If anything here is ambiguous or you want short examples (e.g., add env vars, add a test, or update `web3.ts` to read from env), tell me which section to expand and I'll iterate. 

---

*Generated by GitHub Copilot (Raptor mini (Preview))*